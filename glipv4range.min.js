/*! 
  glIpv4Range v(0.0.6) 
  (c) 2013-2015
  https://gluenetworks.kilnhg.com/Code/Web-Development
  Release Date: 2015-03-13 
*/

angular.module("glIpv4Range", [ "glTextfield" ]), angular.module("glIpv4Range").directive("glIpv4Range", [ "$compile", function(a) {
    "use strict";
    return {
        restrict: "EA",
        replace: !0,
        scope: {
            settings: "=",
            api: "="
        },
        link: function(b, c) {
            // period tabs to next field
            function d(a) {
                190 == a.keyCode && (a.preventDefault(), v[1].find("input").focus());
            }
            function e(a) {
                190 == a.keyCode && (a.preventDefault(), v[2].find("input").focus());
            }
            function f(a) {
                190 == a.keyCode && (a.preventDefault(), v[3].find("input").focus());
            }
            function g(a) {
                190 == a.keyCode && (a.preventDefault(), v[4].find("input").focus());
            }
            function h(a) {
                190 == a.keyCode && a.preventDefault();
            }
            // set segment model values
            function i() {
                b.api._data.ipSegments[0] = b.api1.getValue(), n();
            }
            function j() {
                b.api._data.ipSegments[1] = b.api2.getValue(), n();
            }
            function k() {
                b.api._data.ipSegments[2] = b.api3.getValue(), n();
            }
            function l() {
                b.api._data.ipSegments[3] = b.api4.getValue(), n();
            }
            function m() {
                b.api._data.ipSegments[4] = b.api5.getValue(), n();
            }
            function n() {
                angular.isFunction(b.api._data.onChange) && b.api._data.onChange(b.api.getValue());
            }
            var o, p, q, r, s, t, u = b.$new(), v = [];
            b.api = b.api || {}, b.api._data = {}, b.api._data.capsLocked = !1, b.api._data.numberMouseOverSpinner = !1;
            var w = "gl-textfield-error", x = "gl-textfield-view-label", y = "gl-textfield-view-value";
            b.api1 = {}, b.api2 = {}, b.api3 = {}, b.api4 = {}, b.api5 = {}, b.api._data.name = angular.isUndefined(b.settings.name) ? void 0 : b.settings.name, 
            b.settings1 = {
                name: "gl-" + b.api._data.name + "-ipv4-seg-1",
                type: "number",
                numberSpinner: !1,
                onKeyUp: i,
                onKeyDown: d
            }, b.settings2 = {
                nane: "gl-" + b.api._data.name + "-ipv4-seg-2",
                type: "number",
                numberSpinner: !1,
                onKeyUp: j,
                onKeyDown: e
            }, b.settings3 = {
                name: "gl-" + b.api._data.name + "-ipv4-seg-3",
                type: "number",
                numberSpinner: !1,
                onKeyUp: k,
                onKeyDown: f
            }, b.settings4 = {
                name: "gl-" + b.api._data.name + "-ipv4-seg-4",
                type: "number",
                numberSpinner: !1,
                onKeyUp: l,
                onKeyDown: g
            }, b.settings5 = {
                name: "gl-" + b.api._data.name + "-ipv4-seg-5",
                type: "number",
                numberSpinner: !1,
                onKeyUp: m,
                onKeyDown: h
            };
            var z = [ '<gl-textfield class="gl-ipv4-1" api="api1" settings="settings1" >', '<gl-textfield class="gl-ipv4-2" api="api2" settings="settings2" >', '<gl-textfield class="gl-ipv4-3" api="api3" settings="settings3" >', '<gl-textfield class="gl-ipv4-4" api="api4" settings="settings4" >', '<gl-textfield class="gl-ipv4-5" api="api5" settings="settings5" >' ], A = '<div class="gl-ipv4-inputs"></div>', B = '<p class="' + w + '">{{api._data.error}}</p>', C = '<label class="' + x + '">{{api._data.label}}</label>', D = '<p class="' + y + '"></p>', E = '<span class="gl-ipv4-segment-separator">.</span>', F = '<span class="gl-ipv4-segment-separator">/</span>';
            // MAP SETTINGS
            b.api._data.ipSegments = angular.isUndefined(b.settings.value) ? [] : b.settings.value.split("."), 
            b.api._data.valid = angular.isUndefined(b.settings.valid) ? !0 : b.settings.valid, 
            b.api._data.label = angular.isUndefined(b.settings.label) ? void 0 : b.settings.label, 
            b.api._data.disabled = angular.isUndefined(b.settings.disabled) ? !1 : b.settings.disabled, 
            b.api._data.placeholder = angular.isUndefined(b.settings.placeholder) ? void 0 : b.settings.placeholder, 
            b.api._data.error = angular.isUndefined(b.settings.error) ? void 0 : b.settings.error, 
            b.api._data.editable = angular.isUndefined(b.settings.editable) ? !0 : b.settings.editable, 
            b.api._data.onChange = angular.isFunction(b.settings.onChange) ? b.settings.onChange : void 0, 
            b.api.setInvalid = function(a) {
                b.api._data.valid = !1, b.api1.setInvalid(), b.api2.setInvalid(), b.api3.setInvalid(), 
                b.api4.setInvalid(), b.api5.setInvalid(), b.api._data.error = angular.isString(a) ? a : void 0, 
                J();
            }, b.api.setValid = function() {
                b.api._data.valid = !0, b.api1.setValid(), b.api2.setValid(), b.api3.setValid(), 
                b.api4.setValid(), b.api5.setValid(), J();
            }, b.api.setValue = function(a) {
                angular.isUndefined(a) || angular.isString(a) && 0 == a.length ? (b.api1.setValue(), 
                b.api2.setValue(), b.api3.setValue(), b.api4.setValue(), b.api5.setValue()) : (b.api._data.ipSegments = a.split(/\.|\//), 
                angular.isUndefined(b.api._data.ipSegments) || (angular.isUndefined(parseInt(b.api._data.ipSegments[0])) || b.api1.setValue(parseInt(b.api._data.ipSegments[0])), 
                angular.isUndefined(parseInt(b.api._data.ipSegments[1])) || b.api2.setValue(parseInt(b.api._data.ipSegments[1])), 
                angular.isUndefined(parseInt(b.api._data.ipSegments[2])) || b.api3.setValue(parseInt(b.api._data.ipSegments[2])), 
                angular.isUndefined(parseInt(b.api._data.ipSegments[3])) || b.api4.setValue(parseInt(b.api._data.ipSegments[3])), 
                angular.isUndefined(parseInt(b.api._data.ipSegments[4])) || b.api5.setValue(parseInt(b.api._data.ipSegments[4])))), 
                // update view  mode
                angular.isUndefined(r) || r.html(b.api.getValue());
            }, b.api.getValue = function() {
                var a = b.api._data.ipSegments.slice(0, 4).join("."), c = b.api._data.ipSegments[4];
                return angular.isUndefined(c) || null == c || (a += "/" + b.api._data.ipSegments[4]), 
                a;
            }, b.api.setPlaceholder = function(a) {
                b.api._data.placeholder = a, b.api1.setPlaceholder(a);
            }, b.api.getPlaceholder = function() {
                return b.api._data.placeholder;
            }, b.api.setLabel = function(a) {
                b.api._data.label = a;
            }, b.api.getLabel = function() {
                return b.api._data.label;
            }, b.api.view = function() {
                H();
            }, b.api.edit = function() {
                I();
            }, b.api.disable = function() {
                b.api._data.disabled = !0, b.api1.disable(), b.api2.disable(), b.api3.disable(), 
                b.api4.disable(), b.api5.disable();
            }, b.api.enable = function() {
                b.api._data.disabled = !1, b.api1.enable(), b.api2.enable(), b.api3.enable(), b.api4.enable(), 
                b.api5.enable();
            };
            var G = function() {
                u.$destroy(), c.children().remove(), u = b.$new(), o = angular.element(A), s = angular.element(E), 
                t = angular.element(F);
                for (var d = 0; d < z.length; d++) {
                    var e = z[d], f = angular.element(e);
                    v[d] = f, o.append(v[d]), 3 > d && o.append(s.clone()), 3 == d && o.append(t.clone());
                }
                var g = a(o)(u);
                b.api._data.disabled && b.api.disable(), c.append(g);
            }, H = function() {
                b.api._data.editable = !1, c.children().remove(), angular.isString(b.api._data.label) && (q = a(angular.element(C))(b), 
                c.append(q)), r = a(angular.element(D))(b), r.html(b.api.getValue()), c.append(r);
            }, I = function() {
                b.api._data.editable = !0, G();
                var a = b.api.getValue();
                // init validity
                if (b.api.setValue(a), b.api._data.valid) b.api.setValid(); else {
                    var c = angular.isString(b.api._data.error) ? b.api._data.error : void 0;
                    b.api.setInvalid(c);
                }
                J();
            }, J = function() {
                angular.isUndefined(p) || p.remove(), b.api._data.editable && !b.api._data.valid && angular.isString(b.api._data.error) && (p = a(angular.element(B))(b), 
                c.append(p));
            };
            // INIT
            angular.isString(b.api._data.placeholder) && (b.settings1.placeholder = b.api._data.placeholder), 
            angular.isUndefined(b.settings.view) || 1 != b.settings.view ? I() : H();
        }
    };
} ]);
//# sourceMappingURL=glipv4range.min.js.map